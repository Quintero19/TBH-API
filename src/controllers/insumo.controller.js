function a0_0xdab0(){const _0x44e34c=['Id_Categoria_Insumos_Categoria_Insumo','Detalle_Compra_Insumos','pLyrY','save','259345uvWNfE','destroy','6630085HDgjKH','736245RSYOxM','length','QRwjS','pspGu','bCYue','NaofQ','No\x20se\x20encontró\x20insumo\x20con\x20id\x20','Insumo\x20no\x20encontrado','obtenerInsumoPorId','8KmdCsv','trim','Insumo\x20creado\x20correctamente','oYTzT','Estado','create','fQmhw','UnfLT','findAll','Error\x20al\x20listar\x20insumos:','onYrR','success','../models','xcsJK','186sdktiR','toJSON','MaEFf','GyISd','test','El\x20nombre\x20debe\x20tener\x20al\x20menos\x203\x20caracteres','zNDoM','brJku','message','HIuiN','MgJGg','OTHWb','error','Ya\x20existe\x20un\x20insumo\x20con\x20ese\x20nombre','SaKVi','11cesxaa','map','Id_Categoria_Insumos','El\x20nombre\x20solo\x20puede\x20contener\x20letras,\x20números\x20y\x20espacios','wLgvD','Nombre','findOne','qRCcc','sequelize','Id_Insumos','Ya\x20existe\x20otro\x20insumo\x20con\x20ese\x20nombre','body','mHvVh','AcoKC','FSlcm','Error\x20interno\x20del\x20servidor','El\x20nombre\x20es\x20obligatorio','758404nICGXc','El\x20stock\x20debe\x20ser\x20un\x20número\x20válido\x20mayor\x20o\x20igual\x20a\x20cero','Error\x20al\x20actualizar\x20insumo:','params','status','findByPk','eKdIK','listarInsumos','Insumo\x20eliminado','13107220KyVUXf','cambiarEstado','Sin\x20Categoría','4082220CMlRjJ','update','80016XQlTjA','Id_Detalle_Insumos','GDclt','kpXfs','4YOmKSl','Insumo\x20actualizado\x20correctamente','json','TieneCompras','FYNwA'];a0_0xdab0=function(){return _0x44e34c;};return a0_0xdab0();}function a0_0x4540(_0x2cd579,_0x4a6427){const _0xdab01a=a0_0xdab0();return a0_0x4540=function(_0x45403e,_0x48b55a){_0x45403e=_0x45403e-0x170;let _0x2aa711=_0xdab01a[_0x45403e];return _0x2aa711;},a0_0x4540(_0x2cd579,_0x4a6427);}const a0_0xf02b0f=a0_0x4540;(function(_0x36a5e8,_0x156e86){const _0x188b3d=a0_0x4540,_0x1ca638=_0x36a5e8();while(!![]){try{const _0x2d2f54=-parseInt(_0x188b3d(0x188))/0x1*(parseInt(_0x188b3d(0x19a))/0x2)+-parseInt(_0x188b3d(0x194))/0x3+-parseInt(_0x188b3d(0x196))/0x4+-parseInt(_0x188b3d(0x1a3))/0x5*(-parseInt(_0x188b3d(0x1bd))/0x6)+parseInt(_0x188b3d(0x1a5))/0x7+parseInt(_0x188b3d(0x1af))/0x8*(-parseInt(_0x188b3d(0x1a6))/0x9)+-parseInt(_0x188b3d(0x191))/0xa*(-parseInt(_0x188b3d(0x177))/0xb);if(_0x2d2f54===_0x156e86)break;else _0x1ca638['push'](_0x1ca638['shift']());}catch(_0x2ee05a){_0x1ca638['push'](_0x1ca638['shift']());}}}(a0_0xdab0,0xd86bb));const {Insumos,Categoria_Insumos,Detalle_Compra_Insumos}=require(a0_0xf02b0f(0x1bb)),{Op}=require(a0_0xf02b0f(0x17f));exports[a0_0xf02b0f(0x18f)]=async(_0x36511b,_0x128ce7)=>{const _0x2dddd1=a0_0xf02b0f,_0x34f826={'pRXhX':function(_0x283fcf,_0x527391){return _0x283fcf>_0x527391;},'mHvVh':_0x2dddd1(0x17c),'pspGu':_0x2dddd1(0x1a0),'ggPwW':_0x2dddd1(0x197),'dhpgG':_0x2dddd1(0x1b8),'ghrPc':_0x2dddd1(0x174)};try{const _0x25663c=await Insumos[_0x2dddd1(0x1b7)]({'include':[{'model':Categoria_Insumos,'as':_0x2dddd1(0x19f),'attributes':[_0x34f826[_0x2dddd1(0x183)]]},{'model':Detalle_Compra_Insumos,'as':_0x34f826[_0x2dddd1(0x1a9)],'attributes':[_0x34f826['ggPwW']]}]}),_0x2f9075=_0x25663c[_0x2dddd1(0x178)](_0x5314f3=>{const _0x4dbb85=_0x2dddd1,_0x4f2814=_0x5314f3[_0x4dbb85(0x1be)]();return _0x4f2814[_0x4dbb85(0x19d)]=_0x34f826['pRXhX'](_0x4f2814[_0x4dbb85(0x1a0)][_0x4dbb85(0x1a7)],0x0),delete _0x4f2814[_0x4dbb85(0x1a0)],_0x4f2814;});_0x128ce7[_0x2dddd1(0x19c)]({'status':_0x2dddd1(0x1ba),'data':_0x2f9075});}catch(_0x503014){console[_0x2dddd1(0x174)](_0x34f826['dhpgG'],_0x503014),_0x128ce7[_0x2dddd1(0x18c)](0x1f4)['json']({'status':_0x34f826['ghrPc'],'message':_0x503014[_0x2dddd1(0x170)]});}},exports[a0_0xf02b0f(0x1ae)]=async(_0x17cfd3,_0x3aa4a6)=>{const _0x11b5e7=a0_0xf02b0f,_0x335124={'HEoFb':_0x11b5e7(0x1ba),'IlBTQ':'error'};try{const {id:_0x2e51f7}=_0x17cfd3[_0x11b5e7(0x18b)],_0x4de033=await Insumos[_0x11b5e7(0x18d)](_0x2e51f7);if(!_0x4de033)return _0x3aa4a6[_0x11b5e7(0x18c)](0x194)['json']({'status':'error','message':_0x11b5e7(0x1ac)+_0x2e51f7});_0x3aa4a6[_0x11b5e7(0x18c)](0xc8)[_0x11b5e7(0x19c)]({'status':_0x335124['HEoFb'],'data':_0x4de033});}catch(_0x4d57c9){console['error']('Error\x20al\x20obtener\x20insumo\x20con\x20id\x20'+_0x17cfd3[_0x11b5e7(0x18b)]['id']+':',_0x4d57c9),_0x3aa4a6[_0x11b5e7(0x18c)](0x1f4)['json']({'status':_0x335124['IlBTQ'],'message':_0x4d57c9[_0x11b5e7(0x170)]});}},exports['crearInsumo']=async(_0x371136,_0x4f8d91)=>{const _0x227787=a0_0xf02b0f,_0xcb4df3={'FSlcm':_0x227787(0x174),'zNDoM':function(_0x20a349,_0x9fc9c2){return _0x20a349<_0x9fc9c2;},'bocAJ':_0x227787(0x1c2),'MgJGg':function(_0x197d50,_0x40b91f){return _0x197d50(_0x40b91f);},'eKdIK':function(_0x4da9dc,_0xd6adfb){return _0x4da9dc(_0xd6adfb);},'SaKVi':_0x227787(0x189),'dbQpt':'Debe\x20seleccionar\x20una\x20categoría\x20válida','qRCcc':_0x227787(0x175),'MaEFf':'success','bCYue':_0x227787(0x1b1),'zGdAk':_0x227787(0x186)};try{const {Nombre:_0x36a064,Stock:_0x25492f,Id_Categoria_Insumos:_0x471b36}=_0x371136[_0x227787(0x182)],_0x274fe7=_0x36a064?.[_0x227787(0x1b0)]();if(!_0x274fe7)return _0x4f8d91[_0x227787(0x18c)](0x190)[_0x227787(0x19c)]({'status':_0xcb4df3[_0x227787(0x185)],'message':_0x227787(0x187)});if(_0xcb4df3[_0x227787(0x1c3)](_0x274fe7['length'],0x3))return _0x4f8d91[_0x227787(0x18c)](0x190)[_0x227787(0x19c)]({'status':_0xcb4df3[_0x227787(0x185)],'message':_0xcb4df3['bocAJ']});if(!/^[a-zA-ZÁÉÍÓÚáéíóúñÑ0-9\s]+$/[_0x227787(0x1c1)](_0x274fe7))return _0x4f8d91[_0x227787(0x18c)](0x190)[_0x227787(0x19c)]({'status':_0xcb4df3['FSlcm'],'message':_0x227787(0x17a)});const _0x51c722=_0xcb4df3[_0x227787(0x172)](Number,_0x25492f);if(_0xcb4df3[_0x227787(0x18e)](isNaN,_0x51c722)||_0xcb4df3[_0x227787(0x1c3)](_0x51c722,0x0))return _0x4f8d91['status'](0x190)[_0x227787(0x19c)]({'status':_0xcb4df3[_0x227787(0x185)],'message':_0xcb4df3[_0x227787(0x176)]});if(!_0x471b36)return _0x4f8d91[_0x227787(0x18c)](0x190)[_0x227787(0x19c)]({'status':_0x227787(0x174),'message':_0xcb4df3['dbQpt']});const _0x1ef5f4=await Categoria_Insumos[_0x227787(0x18d)](_0x471b36);if(!_0x1ef5f4)return _0x4f8d91[_0x227787(0x18c)](0x194)['json']({'status':_0xcb4df3[_0x227787(0x185)],'message':'La\x20categoría\x20seleccionada\x20no\x20existe'});const _0x344450=await Insumos['findOne']({'where':{'Nombre':_0x274fe7}});if(_0x344450)return _0x4f8d91[_0x227787(0x18c)](0x190)[_0x227787(0x19c)]({'status':_0xcb4df3['FSlcm'],'message':_0xcb4df3[_0x227787(0x17e)]});const _0x438d9a=await Insumos[_0x227787(0x1b4)]({'Nombre':_0x274fe7,'Stock':_0x51c722,'Id_Categoria_Insumos':_0x471b36});return _0x4f8d91[_0x227787(0x18c)](0xc9)[_0x227787(0x19c)]({'status':_0xcb4df3[_0x227787(0x1bf)],'message':_0xcb4df3[_0x227787(0x1aa)],'data':_0x438d9a});}catch(_0x20d1e3){return _0x4f8d91[_0x227787(0x18c)](0x1f4)['json']({'status':_0x227787(0x174),'message':_0xcb4df3['zGdAk']});}},exports['actualizarInsumo']=async(_0x1077cf,_0x52e78f)=>{const _0xfc999f=a0_0xf02b0f,_0x117353={'kpXfs':_0xfc999f(0x187),'AcoKC':function(_0x54a971,_0x21b068){return _0x54a971<_0x21b068;},'NaofQ':_0xfc999f(0x174),'pLyrY':_0xfc999f(0x1c2),'RtPxc':function(_0x4a4d30,_0xf3cfb3){return _0x4a4d30<_0xf3cfb3;},'oYTzT':_0xfc999f(0x189),'QRwjS':'La\x20categoría\x20seleccionada\x20no\x20existe','onYrR':_0xfc999f(0x181),'GyISd':_0xfc999f(0x1ba),'sRMYK':_0xfc999f(0x19b),'xcsJK':'Error\x20interno\x20del\x20servidor'};try{const {id:_0xa1e070}=_0x1077cf['params'],{Nombre:_0x510bec,Stock:_0x4279d6,Id_Categoria_Insumos:_0x182896}=_0x1077cf[_0xfc999f(0x182)],_0x4b3521=await Insumos[_0xfc999f(0x17d)]({'where':{'Id_Insumos':_0xa1e070}});if(!_0x4b3521)return _0x52e78f[_0xfc999f(0x18c)](0x194)[_0xfc999f(0x19c)]({'status':_0xfc999f(0x174),'message':_0xfc999f(0x1ad)});if(!_0x510bec||!_0x510bec['trim']())return _0x52e78f[_0xfc999f(0x18c)](0x190)[_0xfc999f(0x19c)]({'status':'error','message':_0x117353[_0xfc999f(0x199)]});if(_0x117353[_0xfc999f(0x184)](_0x510bec[_0xfc999f(0x1b0)]()['length'],0x3))return _0x52e78f[_0xfc999f(0x18c)](0x190)['json']({'status':_0x117353[_0xfc999f(0x1ab)],'message':_0x117353[_0xfc999f(0x1a1)]});if(!/^[a-zA-Z0-9\s]+$/['test'](_0x510bec[_0xfc999f(0x1b0)]()))return _0x52e78f['status'](0x190)[_0xfc999f(0x19c)]({'status':_0x117353['NaofQ'],'message':'El\x20nombre\x20solo\x20puede\x20contener\x20letras,\x20números\x20y\x20espacios'});if(_0x117353['RtPxc'](_0x4279d6,0x0)||isNaN(_0x4279d6))return _0x52e78f[_0xfc999f(0x18c)](0x190)[_0xfc999f(0x19c)]({'status':_0x117353[_0xfc999f(0x1ab)],'message':_0x117353[_0xfc999f(0x1b2)]});if(!_0x182896)return _0x52e78f[_0xfc999f(0x18c)](0x190)[_0xfc999f(0x19c)]({'status':_0x117353[_0xfc999f(0x1ab)],'message':'Debe\x20seleccionar\x20una\x20categoría\x20válida'});const _0x579fec=await Categoria_Insumos['findByPk'](_0x182896);if(!_0x579fec)return _0x52e78f[_0xfc999f(0x18c)](0x194)[_0xfc999f(0x19c)]({'status':_0xfc999f(0x174),'message':_0x117353[_0xfc999f(0x1a8)]});const _0x53a395=await Insumos[_0xfc999f(0x17d)]({'where':{'Nombre':_0x510bec['trim'](),'Id_Insumos':{[Op['ne']]:_0xa1e070}}});if(_0x53a395)return _0x52e78f[_0xfc999f(0x18c)](0x190)['json']({'status':_0x117353['NaofQ'],'message':_0x117353[_0xfc999f(0x1b9)]});await Insumos[_0xfc999f(0x195)]({..._0x1077cf['body'],'Nombre':_0x510bec['trim']()},{'where':{'Id_Insumos':_0xa1e070}}),_0x52e78f[_0xfc999f(0x19c)]({'status':_0x117353[_0xfc999f(0x1c0)],'message':_0x117353['sRMYK']});}catch(_0xe054cf){console['error'](_0xfc999f(0x18a),_0xe054cf),_0x52e78f[_0xfc999f(0x18c)](0x1f4)[_0xfc999f(0x19c)]({'status':_0x117353[_0xfc999f(0x1ab)],'message':_0x117353[_0xfc999f(0x1bc)]});}},exports[a0_0xf02b0f(0x192)]=async(_0x3cba1a,_0x35f07c)=>{const _0x5c41f7=a0_0xf02b0f,_0x594b78={'wLgvD':_0x5c41f7(0x174),'brJku':'Insumo\x20no\x20encontrado','fQmhw':_0x5c41f7(0x1ba)};try{const {id:_0x404bb2}=_0x3cba1a[_0x5c41f7(0x18b)],_0x17931f=await Insumos['findByPk'](_0x404bb2);if(!_0x17931f)return _0x35f07c['status'](0x194)[_0x5c41f7(0x19c)]({'status':_0x594b78[_0x5c41f7(0x17b)],'message':_0x594b78[_0x5c41f7(0x1c4)]});_0x17931f[_0x5c41f7(0x1b3)]=!_0x17931f['Estado'],await _0x17931f[_0x5c41f7(0x1a2)](),_0x35f07c[_0x5c41f7(0x19c)]({'status':_0x594b78[_0x5c41f7(0x1b5)],'data':_0x17931f});}catch(_0x4d3a01){_0x35f07c['status'](0x1f4)[_0x5c41f7(0x19c)]({'status':_0x594b78[_0x5c41f7(0x17b)],'message':_0x4d3a01[_0x5c41f7(0x170)]});}},exports['eliminarInsumo']=async(_0x4d1623,_0xdf2f2f)=>{const _0x1cc27a=a0_0xf02b0f,_0x1f5afc={'FYNwA':_0x1cc27a(0x174),'UnfLT':'Insumo\x20no\x20encontrado','GDclt':_0x1cc27a(0x1ba),'HIuiN':_0x1cc27a(0x190)};try{const {id:_0x62f760}=_0x4d1623[_0x1cc27a(0x18b)],_0x19aa31=await Insumos[_0x1cc27a(0x17d)]({'where':{'Id_Insumos':_0x62f760}});if(!_0x19aa31)return _0xdf2f2f[_0x1cc27a(0x18c)](0x194)[_0x1cc27a(0x19c)]({'status':_0x1f5afc[_0x1cc27a(0x19e)],'message':_0x1f5afc[_0x1cc27a(0x1b6)]});await Insumos[_0x1cc27a(0x1a4)]({'where':{'Id_Insumos':_0x62f760}}),_0xdf2f2f[_0x1cc27a(0x19c)]({'status':_0x1f5afc[_0x1cc27a(0x198)],'message':_0x1f5afc[_0x1cc27a(0x171)]});}catch(_0x1d453f){_0xdf2f2f[_0x1cc27a(0x18c)](0x1f4)[_0x1cc27a(0x19c)]({'status':'error','message':_0x1d453f[_0x1cc27a(0x170)]});}},exports['obtenerInsumosActivos']=async(_0x39d97b,_0x3e3f95)=>{const _0x41a7aa=a0_0xf02b0f,_0x56c901={'qggPP':_0x41a7aa(0x1ba)};try{const _0x1dc733=await Insumos[_0x41a7aa(0x1b7)]({'where':{'Estado':!![]},'include':{'model':Categoria_Insumos,'as':_0x41a7aa(0x19f),'attributes':[_0x41a7aa(0x17c)]}}),_0x5f07cd=_0x1dc733[_0x41a7aa(0x178)](_0x3245a0=>({'Id_Insumos':_0x3245a0[_0x41a7aa(0x180)],'Nombre':_0x3245a0[_0x41a7aa(0x17c)],'Stock':_0x3245a0['Stock'],'Estado':_0x3245a0['Estado'],'Id_Categoria_Insumos':_0x3245a0[_0x41a7aa(0x179)],'Categoria':_0x3245a0[_0x41a7aa(0x19f)]?.[_0x41a7aa(0x17c)]||_0x41a7aa(0x193)}));_0x3e3f95[_0x41a7aa(0x19c)]({'status':_0x56c901['qggPP'],'data':_0x5f07cd});}catch(_0x52af93){_0x3e3f95[_0x41a7aa(0x18c)](0x1f4)[_0x41a7aa(0x19c)]({'status':'error','message':_0x52af93[_0x41a7aa(0x170)]});}},exports['obtenerInsumosPorCategoria']=async(_0x4cb836,_0x5a9487)=>{const _0x4884f7=a0_0xf02b0f,_0x473405={'OTHWb':_0x4884f7(0x17c)};try{const {nombre:_0x38f54f}=_0x4cb836[_0x4884f7(0x18b)],_0x579ebf=await Insumos[_0x4884f7(0x1b7)]({'where':{'Estado':!![]},'include':[{'model':Categoria_Insumos,'as':'Id_Categoria_Insumos_Categoria_Insumo','where':{'Nombre':_0x38f54f},'attributes':[_0x473405[_0x4884f7(0x173)]]}]});_0x5a9487[_0x4884f7(0x19c)]({'status':_0x4884f7(0x1ba),'data':_0x579ebf});}catch(_0x52f467){_0x5a9487['status'](0x1f4)['json']({'status':_0x4884f7(0x174),'message':_0x52f467[_0x4884f7(0x170)]});}};

// Nando es una perra